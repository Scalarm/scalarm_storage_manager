# Be sure to restart your server when you modify this file.

# Your secret key is used for verifying the integrity of signed cookies.
# If you change this key, all old signed cookies will become invalid!

# Make sure the secret is at least 30 characters and all random,
# no regular words or you'll be exposed to dictionary attacks.
# You can use `rake secret` to generate a secure secret key.

# Make sure your secret_key_base is kept private
# if you're sharing your code publicly.

default: &DEFAULT
  ## cookies enctyption key - set the same in each ExperimentManager to allow cooperation
  secret_key_base: "<you need to change this - with $rake secret>"

  ## InformationService - a service locator
  information_service_url: "localhost:11300"
  information_service_user: "<set to custom name describing your Scalarm instance>"
  information_service_pass: "<generate strong password instead of this>"
  ## uncomment, if you want to communicate through HTTP with Scalarm Information Service
  # information_service_development: true

  ## Database configuration
  ## name of MongoDB database, it is scalarm_db by default
  database:
    db_name: 'scalarm_db'
    ## key for symmetric encryption of secret database data - please change it in production installations!
    ## NOTICE: this key should be set ONLY ONCE BEFORE first run - if you change or lost it, you will be UNABLE to read encrypted data!
    db_secret_key: "QjqjFK}7|Xw8DDMUP-O$yp"

    ## where log bank should store content
    mongo_host: 'localhost'
    mongo_port: 27017
    binaries_collection_name: 'simulation_files'

    ## MongoDB settings
    ## host is optional - the service will take local ip address if host is not provided
    host: localhost

    ## MongoDB instance settings
    db_instance_port: 30000
    db_instance_dbpath: ./../../scalarm_db_data
    db_instance_logpath: ./../../log/scalarm_db.log

    ## MongoDB configsrv settings
    db_config_port: 28000
    db_config_dbpath: ./../../scalarm_db_config_data
    db_config_logpath: ./../../log/scalarm_db_config.log

    ## MongoDB router settings
    db_router_host: localhost
    db_router_port: 27017
    db_router_logpath: ./../../log/scalarm_db_router.log


  ## Uncomment, if you want to communicate through HTTP with Scalarm Storage Manager
  # storage_manager_development: true

  ## Configuration of optional Scalarm LoadBalancer (https://github.com/Scalarm/scalarm_load_balancer)
  load_balancer:
    # if you installed and want to use scalarm custom load balancer set to false
    disable_registration: true
    # if you use load balancer you need to specify multicast address (to receive load balancer address)
    #multicast_address: "224.1.2.3:8000"
    # if you use load balancer on http you need to specify this
    #development: true
    # if you want to run and register service in load balancer on other port than default
    #port: "3000"

  ## Uncomment "anonymous_user" block to create and use default user
  #anonymous_user:
  #  login: 'anonymous'
  #  password: 'anonymous'

  ## Configuration of ExperimentManager machine monitoring, uncomment to enable
  #monitoring:
  #  db_name: 'scalarm_monitoring'
  #  interval: 60
  #  metrics: 'cpu:memory:storage'

production:
  ## In production environments some settings should not be stored in configuration file
  ## for security reasons.

  secret_key_base: <%= ENV["SECRET_KEY_BASE"] %>
  information_service_url: "<%= ENV["INFORMATION_SERVICE_URL"] %>"
  information_service_user: "<%= ENV["INFORMATION_SERVICE_LOGIN"] %>"
  information_service_pass: "<%= ENV["INFORMATION_SERVICE_PASSWORD"] %>"

development:
  <<: *DEFAULT

test:
  <<: *DEFAULT
